(function(t){function e(e){for(var c,u,o=e[0],i=e[1],s=e[2],b=0,f=[];b<o.length;b++)u=o[b],Object.prototype.hasOwnProperty.call(r,u)&&r[u]&&f.push(r[u][0]),r[u]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c]);l&&l(e);while(f.length)f.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],c=!0,o=1;o<n.length;o++){var i=n[o];0!==r[i]&&(c=!1)}c&&(a.splice(e--,1),t=u(u.s=n[0]))}return t}var c={},r={app:0},a=[];function u(e){if(c[e])return c[e].exports;var n=c[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=t,u.c=c,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)u.d(n,c,function(e){return t[e]}.bind(null,c));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/f2e-first-week/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=e,o=o.slice();for(var s=0;s<o.length;s++)e(o[s]);var l=i;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},2233:function(t,e,n){},"246e":function(t,e,n){"use strict";n("96a2")},"26f3":function(t,e,n){},2845:function(t,e,n){"use strict";n("4ee3")},"2e2c":function(t,e,n){"use strict";n("99da")},"3cf8":function(t,e,n){"use strict";n("f407")},"45d9":function(t,e,n){},"4ee2":function(t,e,n){},"4ee3":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23"),r={class:"wrapper"},a={class:"content"};function u(t,e,n,u,o,i){var s=Object(c["w"])("Header"),l=Object(c["w"])("Banner"),b=Object(c["w"])("Loading"),f=Object(c["w"])("SearchResult"),d=Object(c["w"])("router-view"),O=Object(c["w"])("Footer");return Object(c["p"])(),Object(c["e"])("div",r,[Object(c["g"])(s),Object(c["g"])(l),Object(c["f"])("div",a,[Object(c["g"])(b),Object(c["g"])(f),Object(c["g"])(d)]),Object(c["g"])(O)])}var o=function(t){return Object(c["s"])("data-v-5e631dc4"),t=t(),Object(c["q"])(),t},i={class:"header"},s={class:"header_left"},l=o((function(){return Object(c["f"])("div",{class:"header_logo"},null,-1)})),b={class:"header_right"},f=o((function(){return Object(c["f"])("i",null,null,-1)})),d=o((function(){return Object(c["f"])("span",null,"台灣景點",-1)})),O=o((function(){return Object(c["f"])("i",null,null,-1)})),p=o((function(){return Object(c["f"])("span",null,"美食住宿",-1)}));function j(t,e,n,r,a,u){var o=Object(c["w"])("router-link");return Object(c["p"])(),Object(c["e"])("div",i,[Object(c["f"])("div",s,[Object(c["g"])(o,{to:"/"},{default:Object(c["D"])((function(){return[l]})),_:1})]),Object(c["f"])("div",b,[Object(c["g"])(o,{class:"spot",to:"/spot"},{default:Object(c["D"])((function(){return[f,d]})),_:1}),Object(c["g"])(o,{class:"live",to:"/restaurant"},{default:Object(c["D"])((function(){return[O,p]})),_:1})])])}var v={setup:function(){return{}}},h=(n("e947"),n("6b0d")),g=n.n(h);const m=g()(v,[["render",j],["__scopeId","data-v-5e631dc4"]]);var y=m,_=(n("b0c0"),function(t){return Object(c["s"])("data-v-7216d3b8"),t=t(),Object(c["q"])(),t}),S={class:"banner-area"},w=_((function(){return Object(c["f"])("div",{class:"banner-area_img"},null,-1)})),x={class:"banner-area_center-item"},R=_((function(){return Object(c["f"])("div",{class:"title-img"},null,-1)})),I=_((function(){return Object(c["f"])("div",{class:"sub-text"}," 台北、台中、台南、屏東、宜蘭……遊遍台灣 ",-1)})),L={class:"input-area"},P={class:"select-area-2"},T=_((function(){return Object(c["f"])("option",{value:""},"請選擇類別",-1)})),A=["value"],k=_((function(){return Object(c["f"])("option",{value:"",disabled:""},"請選擇縣市",-1)})),C=["value"];function $(t,e,n,r,a,u){return Object(c["p"])(),Object(c["e"])("div",S,[w,Object(c["f"])("div",x,[R,I,Object(c["f"])("div",L,[Object(c["E"])(Object(c["f"])("input",{type:"text",placeholder:"請輸入關鍵字","onUpdate:modelValue":e[0]||(e[0]=function(t){return r.searchText=t})},null,512),[[c["B"],r.searchText]]),Object(c["f"])("i",{onClick:e[1]||(e[1]=function(){return r.handleSearch&&r.handleSearch.apply(r,arguments)})})]),Object(c["f"])("div",P,[Object(c["E"])(Object(c["f"])("select",{name:"",id:"","onUpdate:modelValue":e[2]||(e[2]=function(t){return r.searchGroup=t})},[T,(Object(c["p"])(!0),Object(c["e"])(c["a"],null,Object(c["v"])(r.groupListArr,(function(t){return Object(c["p"])(),Object(c["e"])("option",{key:t.name,value:t.val},Object(c["y"])(t.text),9,A)})),128))],512),[[c["A"],r.searchGroup]]),Object(c["E"])(Object(c["f"])("select",{name:"",id:"","onUpdate:modelValue":e[3]||(e[3]=function(t){return r.searchLocate=t})},[k,(Object(c["p"])(!0),Object(c["e"])(c["a"],null,Object(c["v"])(r.cityArr,(function(t){return Object(c["p"])(),Object(c["e"])("option",{value:t,key:t},Object(c["y"])(t),9,C)})),128))],512),[[c["A"],r.searchLocate]])])])])}n("d3b7"),n("159b");var U=n("a1e9"),N=n("5502"),M={components:{},setup:function(){var t=Object(N["b"])(),e=Object(U["k"])([{text:"美食",val:"restaurant"},{text:"景點",val:"spot"},{text:"住宿",val:"hotel"},{text:"活動",val:"activity"}]),n=Object(U["k"])(["基隆市","台北市","新北市","宜蘭縣","桃園市","新竹市","新竹縣","苗栗縣","台中市","彰化縣","南投縣","雲林縣","嘉義市","嘉義縣","台南市","高雄市","屏東縣","花蓮縣","台東縣","澎湖縣","連江縣","金門縣"]),c=Object(U["l"])(""),r=Object(U["l"])(""),a=Object(U["l"])(""),u=function(){var e={searchText:c.value,searchGroup:r.value,searchLocate:a.value};t.dispatch("handleIsSearch",!0),t.dispatch("handleSearch",e).then((function(t){o(t)}))},o=function(e){console.log("data",e);var n=0;e.forEach((function(c){var r=new Image;r.src=c.Picture.PictureUrl1,r.onload=function(){var r=!1;n++,console.log("i",n,e.length,c.Name),r=n!==e.length,t.dispatch("handleLoading",r)},r.onerror=function(){console.error("i**",c.Name,"圖片讀取失敗")}}))};return{groupListArr:e,cityArr:n,searchText:c,searchGroup:r,searchLocate:a,handleSearch:u}}};n("5986");const H=g()(M,[["render",$],["__scopeId","data-v-7216d3b8"]]);var D=H,J=function(t){return Object(c["s"])("data-v-fa08716a"),t=t(),Object(c["q"])(),t},q={class:"footer"},F=J((function(){return Object(c["f"])("span",null,"Taiwan Tourguide © Code: Leonard / Design: KT",-1)})),E=[F];function G(t,e){return Object(c["p"])(),Object(c["e"])("div",q,E)}n("2845");const B={},X=g()(B,[["render",G],["__scopeId","data-v-fa08716a"]]);var V=X,K=function(t){return Object(c["s"])("data-v-3daf9fb6"),t=t(),Object(c["q"])(),t},z={key:0,class:"loading-bg"},W=K((function(){return Object(c["f"])("div",{class:"laoding-bar"},[Object(c["f"])("div",{class:"laoding-bar_img"}),Object(c["f"])("div",{class:"laoding-bar_text"},"Loading....")],-1)})),Z=[W];function Q(t,e,n,r,a,u){return r.isLoading?(Object(c["p"])(),Object(c["e"])("div",z,Z)):Object(c["d"])("",!0)}var Y={setup:function(){var t=Object(N["b"])(),e=Object(c["b"])((function(){return t.getters["getIsLoading"]}));return{isLoading:e}}};n("dbb2");const tt=g()(Y,[["render",Q],["__scopeId","data-v-3daf9fb6"]]);var et=tt,nt=function(t){return Object(c["s"])("data-v-4a4d2cd5"),t=t(),Object(c["q"])(),t},ct={key:0,class:"result-wrapper"},rt={class:"result"},at=nt((function(){return Object(c["f"])("div",{class:"result_title"},[Object(c["f"])("i"),Object(c["f"])("span",null,"搜尋結果")],-1)})),ut={key:0,class:"result_not-found"},ot={key:1,class:"result_content"},it=["src"],st={class:"result_content-item-title"},lt={class:"result_content-item-location"},bt=nt((function(){return Object(c["f"])("i",null,null,-1)}));function ft(t,e,n,r,a,u){return r.handleIsSearch&&!r.handleIsLoading?(Object(c["p"])(),Object(c["e"])("div",ct,[Object(c["f"])("div",rt,[at,0===r.getSearchResult.length?(Object(c["p"])(),Object(c["e"])("div",ut," not found result ")):(Object(c["p"])(),Object(c["e"])("div",ot,[(Object(c["p"])(!0),Object(c["e"])(c["a"],null,Object(c["v"])(r.getSearchResult,(function(t){return Object(c["p"])(),Object(c["e"])("div",{class:"result_content-item",key:t.ID},[Object(c["f"])("img",{src:t.Picture.PictureUrl1,alt:""},null,8,it),Object(c["f"])("div",st,Object(c["y"])(t.Name),1),Object(c["f"])("div",lt,[bt,Object(c["f"])("span",null,Object(c["y"])(t.City),1)])])})),128))]))])])):Object(c["d"])("",!0)}var dt=n("5c40"),Ot={setup:function(){var t=Object(N["b"])(),e=Object(U["c"])((function(){return t.getters["getSearchResult"]})),n=Object(U["c"])((function(){return t.getters["getIsSearch"]})),c=Object(U["c"])((function(){return t.getters["getIsLoading"]}));return Object(dt["N"])(e,(function(t){console.log("ite",t)})),{getSearchResult:e,handleIsSearch:n,handleIsLoading:c}}};n("3cf8");const pt=g()(Ot,[["render",ft],["__scopeId","data-v-4a4d2cd5"]]);var jt=pt,vt={components:{Header:y,Banner:D,Footer:V,Loading:et,SearchResult:jt},setup:function(){}};n("cbe8");const ht=g()(vt,[["render",u]]);var gt=ht,mt=n("6c02"),yt={key:0,class:"homepage"};function _t(t,e,n,r,a,u){var o=Object(c["w"])("Activity"),i=Object(c["w"])("Restaurant");return r.handleIsSearch?Object(c["d"])("",!0):(Object(c["p"])(),Object(c["e"])("div",yt,[Object(c["g"])(o),Object(c["g"])(i)]))}var St=function(t){return Object(c["s"])("data-v-8c49dbb2"),t=t(),Object(c["q"])(),t},wt={class:"activity"},xt=St((function(){return Object(c["f"])("div",{class:"activity_title"},[Object(c["f"])("i"),Object(c["f"])("span",null,"熱門活動")],-1)})),Rt={class:"activity_content"},It=["src"],Lt={class:"activity_content-item-right"},Pt={class:"activity_content-item-title"},Tt={class:"activity_content-item-content"},At={class:"activity_content-item-footer"},kt={class:"left"},Ct=St((function(){return Object(c["f"])("i",null,null,-1)})),$t=St((function(){return Object(c["f"])("a",{href:"#"},"活動詳情",-1)}));function Ut(t,e,n,r,a,u){return Object(c["p"])(),Object(c["e"])("div",wt,[xt,Object(c["f"])("div",Rt,[(Object(c["p"])(!0),Object(c["e"])(c["a"],null,Object(c["v"])(r.popularActive,(function(t){return Object(c["p"])(),Object(c["e"])("div",{class:"activity_content-item",key:t.id},[Object(c["f"])("img",{src:t.Picture.PictureUrl1,alt:""},null,8,It),Object(c["f"])("div",Lt,[Object(c["f"])("div",Pt,Object(c["y"])(t.Name),1),Object(c["f"])("div",Tt,Object(c["y"])(t.Description),1),Object(c["f"])("div",At,[Object(c["f"])("div",kt,[Ct,Object(c["f"])("span",null,Object(c["y"])(t.Location),1)]),$t])])])})),128))])])}var Nt={setup:function(){var t=Object(N["b"])(),e=Object(U["c"])((function(){return t.getters["Homepage/getPopularActivity"]}));return{popularActive:e}}};n("246e");const Mt=g()(Nt,[["render",Ut],["__scopeId","data-v-8c49dbb2"]]);var Ht=Mt,Dt=function(t){return Object(c["s"])("data-v-6d508b4f"),t=t(),Object(c["q"])(),t},Jt={class:"Restaurant"},qt=Dt((function(){return Object(c["f"])("div",{class:"Restaurant_title"},[Object(c["f"])("i"),Object(c["f"])("span",null,"熱門餐飲")],-1)})),Ft={class:"Restaurant_content"},Et=["src"],Gt={class:"Restaurant_content-item-title"},Bt={class:"Restaurant_content-item-location"},Xt=Dt((function(){return Object(c["f"])("i",null,null,-1)}));function Vt(t,e,n,r,a,u){return Object(c["p"])(),Object(c["e"])("div",Jt,[qt,Object(c["f"])("div",Ft,[(Object(c["p"])(!0),Object(c["e"])(c["a"],null,Object(c["v"])(r.popularRestaurant,(function(t){return Object(c["p"])(),Object(c["e"])("div",{class:"Restaurant_content-item",key:t.ID},[Object(c["f"])("img",{src:t.Picture.PictureUrl1,alt:""},null,8,Et),Object(c["f"])("div",Gt,Object(c["y"])(t.Name),1),Object(c["f"])("div",Bt,[Xt,Object(c["f"])("span",null,Object(c["y"])(t.City),1)])])})),128))])])}var Kt={setup:function(){var t=Object(N["b"])(),e=Object(U["c"])((function(){return t.getters["Homepage/getPopularRestaurant"]}));return{popularRestaurant:e}}};n("af38");const zt=g()(Kt,[["render",Vt],["__scopeId","data-v-6d508b4f"]]);var Wt=zt,Zt={components:{Activity:Ht,Restaurant:Wt},setup:function(){var t=Object(N["b"])(),e=function(){console.log("ini"),t.dispatch("handleIsSearch",!1),t.dispatch("Homepage/handleInit").then((function(t){n(t)}))},n=function(e){var n=0;e.forEach((function(c){var r=new Image;r.src=c.Picture.PictureUrl1,r.onload=function(){var c=!1;n++,c=n!==e.length,t.dispatch("handleLoading",c)}}))},c=Object(U["c"])((function(){return t.getters["getIsSearch"]}));return Object(dt["v"])((function(){e()})),{handleIsSearch:c}}};n("c50d");const Qt=g()(Zt,[["render",_t],["__scopeId","data-v-66a85de0"]]);var Yt=Qt,te={class:"spot"};function ee(t,e,n,r,a,u){var o=Object(c["w"])("Activity");return Object(c["p"])(),Object(c["e"])("div",te,[Object(c["g"])(o)])}var ne={components:{Activity:Ht},setup:function(){var t=Object(N["b"])(),e=function(){t.dispatch("handleIsSearch",!1)};return Object(dt["v"])((function(){e()})),{}}};n("e242");const ce=g()(ne,[["render",ee],["__scopeId","data-v-480b0044"]]);var re=ce,ae={class:"restaurant"};function ue(t,e,n,r,a,u){var o=Object(c["w"])("Restaurant");return Object(c["p"])(),Object(c["e"])("div",ae,[Object(c["g"])(o)])}var oe={components:{Restaurant:Wt},setup:function(){var t=Object(N["b"])(),e=function(){t.dispatch("handleIsSearch",!1)};return Object(dt["v"])((function(){e()})),{}}};n("2e2c");const ie=g()(oe,[["render",ue],["__scopeId","data-v-59430785"]]);var se=ie,le={class:""},be=Object(c["f"])("h1",null,"trnasport",-1),fe=[be];function de(t,e){return Object(c["p"])(),Object(c["e"])("div",le,fe)}const Oe={},pe=g()(Oe,[["render",de]]);var je=pe,ve=[{path:"/",name:"Home",component:Yt},{path:"/spot",name:"spot",component:re},{path:"/restaurant",name:"restaurant",component:se},{path:"/transport",name:"transport",component:je}],he=Object(mt["a"])({history:Object(mt["b"])("/f2e-first-week/"),routes:ve}),ge=he,me=n("1da1"),ye=(n("96cf"),n("99af"),n("bc3a")),_e=n.n(ye),Se=n("6c2d");function we(){var t="fcb1331f951a48edb6ce7d80e2b7a001",e="gwqVwmt8XiZ71aOMWU9JXoB16Os",n=(new Date).toGMTString(),c=new Se["a"]("SHA-1","TEXT");c.setHMACKey(e,"TEXT"),c.update("x-date: "+n);var r=c.getHMAC("B64"),a='hmac username="'+t+'", algorithm="hmac-sha1", headers="x-date", signature="'+r+'"';return{Authorization:a,"X-Date":n}}var xe=we,Re=_e.a.create({baseURL:"https://ptx.transportdata.tw/"}),Ie=function(){return Re.get("/MOTC/v2/Tourism/Activity?$filter=Picture%2FPictureUrl1%20ne%20null&$top=4&$format=JSON",{header:xe()})},Le=function(){return Re.get("/MOTC/v2/Tourism/Restaurant?$filter=Picture%2FPictureUrl1%20ne%20null%20and%20City%20ne%20null&$top=10&$format=JSON",{header:xe()})},Pe=_e.a.create({baseURL:"https://ptx.transportdata.tw/"}),Te=function(t){return Pe.get("/MOTC/v2/Tourism/ScenicSpot?$filter=contains(Name%2C'".concat(t.searchText,"')%20and%20contains(Address%2C'").concat(t.searchLocate,"')and%20Picture%2FPictureUrl1%20ne%20null&$top=30&$format=JSON"),{header:xe()})},Ae=function(t){return Pe.get("/MOTC/v2/Tourism/Restaurant?$filter=contains(Name%2C'".concat(t.searchText,"')%20and%20contains(Address%2C'").concat(t.searchLocate,"')and%20Picture%2FPictureUrl1%20ne%20null&$top=30&$format=JSON"),{header:xe()})},ke=function(t){return Pe.get("/MOTC/v2/Tourism/Hotel?$filter=contains(Name%2C'".concat(t.searchText,"')%20and%20contains(Address%2C'").concat(t.searchLocate,"')and%20Picture%2FPictureUrl1%20ne%20null&$top=30&$format=JSON"),{header:xe()})},Ce=function(t){return Pe.get("/MOTC/v2/Tourism/Activity?$filter=contains(Name%2C'".concat(t.searchText,"')%20and%20contains(Address%2C'").concat(t.searchLocate,"')and%20Picture%2FPictureUrl1%20ne%20null&$top=30&$format=JSON"),{header:xe()})},$e=Ie,Ue=Le,Ne=Te,Me=Ae,He=ke,De=Ce,Je={namespaced:!0,state:{popularActivity:[],popularRestaurant:[]},mutations:{init:function(t,e){t.popularActivity=e.popularActivity,t.popularRestaurant=e.popularRestaurant}},actions:{handleInit:function(t,e){return Object(me["a"])(regeneratorRuntime.mark((function e(){var n,c,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n={},e.next=4,$e();case 4:return c=e.sent,e.next=7,Ue();case 7:return r=e.sent,n.popularActivity=c.data,n.popularRestaurant=r.data,t.commit("init",n),e.abrupt("return",c.data);case 14:e.prev=14,e.t0=e["catch"](0);case 16:case"end":return e.stop()}}),e,null,[[0,14]])})))()}},getters:{getPopularActivity:function(t){return t.popularActivity},getPopularRestaurant:function(t){return t.popularRestaurant}}},qe=Object(N["a"])({state:{isLoading:!1,searchResult:[],isSearch:!1},mutations:{setLoading:function(t,e){t.isLoading=e},setSearch:function(t,e){console.log("setSearch",e),t.searchResult=e},setIsSearch:function(t,e){t.isSearch=e}},actions:{handleLoading:function(t,e){t.commit("setLoading",e)},handleIsSearch:function(t,e){t.commit("setIsSearch",e)},handleSearch:function(t,e){return Object(me["a"])(regeneratorRuntime.mark((function n(){var c,r,a,u,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log("data",e),n.prev=1,c=[],n.t0=e.searchGroup,n.next="restaurant"===n.t0?6:"spot"===n.t0?13:"hotel"===n.t0?19:"activity"===n.t0?25:""===n.t0?31:49;break;case 6:return console.log("restaur"),n.next=9,Me(e);case 9:return c=n.sent,t.commit("setSearch",c.data),n.abrupt("return",c.data);case 13:return n.next=15,Ne(e);case 15:return c=n.sent,t.commit("setSearch",c.data),n.abrupt("return",c.data);case 19:return n.next=21,He(e);case 21:return c=n.sent,t.commit("setSearch",c.data),n.abrupt("return",c.data);case 25:return n.next=27,De(e);case 27:return c=n.sent,t.commit("setSearch",c.data),n.abrupt("return",c.data);case 31:return n.next=33,Me(e);case 33:return c=n.sent,n.next=36,Ne(e);case 36:return r=n.sent,n.next=39,He(e);case 39:return a=n.sent,n.next=42,He(e);case 42:return u=n.sent,n.next=45,c.data.concat(r.data,a.data,u.data);case 45:return o=n.sent,t.commit("setSearch",o),n.abrupt("return",o);case 49:return n.abrupt("break",50);case 50:n.next=55;break;case 52:n.prev=52,n.t1=n["catch"](1),console.log("err",n.t1);case 55:case"end":return n.stop()}}),n,null,[[1,52]])})))()}},getters:{getIsLoading:function(t){return console.log("loading",t.isLoading),t.isLoading},getSearchResult:function(t){return t.searchResult},getIsSearch:function(t){return t.isSearch}},modules:{Homepage:Je}});n("4ee2");Object(c["c"])(gt).use(qe).use(ge).mount("#app")},5986:function(t,e,n){"use strict";n("45d9")},"62b1":function(t,e,n){},7576:function(t,e,n){},"96a2":function(t,e,n){},"99da":function(t,e,n){},a00b:function(t,e,n){},ac0a:function(t,e,n){},af38:function(t,e,n){"use strict";n("2233")},c50d:function(t,e,n){"use strict";n("a00b")},cbe8:function(t,e,n){"use strict";n("ac0a")},dbb2:function(t,e,n){"use strict";n("62b1")},e242:function(t,e,n){"use strict";n("26f3")},e947:function(t,e,n){"use strict";n("7576")},f407:function(t,e,n){}});
//# sourceMappingURL=app.cbd72a2f.js.map